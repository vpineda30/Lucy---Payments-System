generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
}

model User {
  id                     String @id @default(uuid()) @unique
  first_name             String 
  last_name              String 
  cpf                    String @unique
  email                  String @unique
  password               String 
  createdAt              DateTime @default(now())

  senderTransactions     Transaction[] @relation("SenderTransactions")
  receiverTransactions   Transaction[] @relation("ReceiverTransactions")

  @@map("users")
}

model Transaction {
  id                     String   @id @default(uuid()) @unique
  value                  Decimal
  createdAt              DateTime @default(now())

  senderId               String
  receiverId             String

  sender                 User @relation("SenderTransactions", fields: [senderId], references: [id])
  receiver               User @relation("ReceiverTransactions", fields: [receiverId], references: [id])

  @@map("transactions")
}